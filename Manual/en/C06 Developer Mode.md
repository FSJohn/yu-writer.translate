# C06 开发者模式

如果想深入了解 Yu Writer 的工作原理，或者想自定义主题、想增加或者修改文档模板、文档样式、幻灯片样式等，则可让 Yu Writer 运行在开发者模式之中。

> 注：打开开发者模式要求先注册 Yu Writer，因为程序进入开发者模式之后即可修改运行时的程序，也就意味着可启动所有功能，包括未注册版被锁定的那些功能。

## 打开开发者模式

编辑应用程序的配置文件 `app.json`（[点击这里]($command:reveal?${runtime.paths.config}/app.json) 可在文件管理器中显示配置文件），在开头处增加如下一行：

```json
{
  developerMode: true,
  ...
}
```

重启应用程序，应该会发现菜单中多了一项 `开发者`，点击 `开发者` > `开发者工具` 即可打开开发者工具，在这里你可以查看程序的所有结构以及资源。

## 解压 Yu Writer 的资源

在应用程序目录里有一个 `resources` 文件夹（macOS 版则位于 Yu Writer/Contents/Resources），里面有一个名为 `app.asar` 的压缩包文件，解压它可以得到 Yu Writer 的源码和资源。

解压的方法请 [参阅这个文档](https://github.com/electron/asar)，解压后会得到一个名为 `app` 的文件夹，把 `app.asar` 文件移动到其他地方或者删除它，则程序会从 `app` 文件夹加载。

需要注意的是脚本源码、主窗口的 HTML 代码、主窗口的样式表均有数字签名验证，修改它们会导致程序启动不了。但诸如主题、文档模板、文档样式、幻灯片样式等则可任意修改。

## 尝试创建自己的一个文档模板

进入 `app` 文件夹，再进入 `src` 文件夹，应该会看到一个名为 `documentstyle` 的文件夹，这个文件夹里面的每个子文件夹就对应一个文档样式，你可以复制其中的一个，然后改名，重启 Yu Writer 应该会发现多出你刚刚创建的样式。编辑样式的 view.css，然后使用 `开发者` 菜单重新加载程序就可以看到修改后的样式的效果。