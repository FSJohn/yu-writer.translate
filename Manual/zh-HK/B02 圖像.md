# B02 圖像

Markdown 語法允許在文檔裏插入圖片，但因為缺乏有效的圖片資源組織方法，通常不太好維護，比如有時把 Markdown 文檔發送給別人卻發現因為圖片存放的位置不一致導致無法顯示，Yu Writer 試圖通過一些簡單的方法來組織圖片資源。

## 為文檔添加圖片

點擊工具欄上的 `圖像` 按鈕會彈出一個 `插入圖片` 對話框，對話框裏列舉了專屬於當前文檔的圖片資源。這時把需要插入到文檔的本地圖片添加到這個對話框裏，然後選中它並點擊 `插入` 按鈕即生成圖像 Markdown 代碼。

將光標移動到已有的圖像代碼中的任意位置，然後再點擊工具欄的 `圖像` 按鈕（或者右擊，在彈出菜單中選擇 `編輯圖像`），同樣會彈出 `插入圖像` 對話框，此時可以在對話框裏選擇新的圖像，然後點擊 `更新` 按鈕即會更新已有的圖像代碼。

### 圖片文件的儲存位置

對於默認類型的文檔庫，添加進文檔的本地圖片會被儲存在跟文檔同一目錄的一個名為 `xxx.resource` 的文件夾之內，其中的 “xxx” 為文檔的文件名。`插入圖片` 所生成的圖像代碼當中的圖片位置包含有 `$resource` 文本，該文本用於代替具體的文件夾名稱（即 `xxx.resource`），一來便於錄入更少的字符，二來能避免當文檔重新命名時需要修改圖像代碼的麻煩。

下面是一個圖像代碼的實際例子：

![Turntable](images/desktop.jpg)

對於博客類型、電子書類型的文檔庫，圖片會被儲存在該庫指定的一個文件夾之內。

圖片文件的儲存位置是可以配置的，詳細請參閲 [C02 配置文檔庫](c02-配置文檔庫)。

## 圖像代碼的語法

圖像代碼的語法跟鏈接代碼很相像，只是在代碼開頭處多了一個感歎號（`!`）

    ![image title](filename "optional text")

其中第一部分 `image title` 用於當圖像尚在加載過程中，或者加載失敗時所顯示的文本，這部分可以省略。第三部分的作用跟鏈接語法一樣，一般是不需要的。另外圖像代碼也有跟鏈接代碼一樣的引用風格。

### 行內圖像

只要不是單獨一行的圖像代碼，在渲染時都會顯示為行內圖像。行內圖像前後會接着段落文字，一般用於顯示尺寸很小（跟文字差不多大小）的圖片。

### 區塊級圖像

如果把圖像代碼單獨寫成一行，則該圖片會顯示為區塊級圖像，區塊級圖像會單獨佔一行，而且上下會留有空白，Yu Writer 的默認樣式會讓區塊級圖像會水平居中顯示。

#### 為區塊級圖像添加題注

題注即顯示在圖片下方的一行簡短描述文字，Yu Writer 約定當圖像顯示為區塊級時，圖像代碼中的 `image title` 會作為圖片的題注。如果你不需要題注，只要保持圖像代碼當中的 `image title` 為空即可，比如 `![](image.jpg)`。