# B1 鏈接

Yu Writer 支持 3 種目標類型的鏈接：

* 鏈接到外部 URL；
* 鏈接到當前文檔的指定標題、其他文檔、其他文檔的當中的指定標題；
* 鏈接到 Yu Writer 命令。

對於前兩種，可以使用 `插入鏈接` 對話框輔助編輯。

## 使用 `插件鏈接` 對話框創建和編輯鏈接

在編輯文檔時，點擊工具欄上的 `鏈接` 按鈕，即會彈出 `插入鏈接` 對話框，在對話框裏可以選擇鏈接目標的類型，鏈接到的文檔、鏈接到的標題，或者直接輸入外部 URL，點 `插入` 按鈕即生成鏈接 Markdown 代碼。

將光標移動到已有的鏈接代碼中的任意位置，然後再點擊工具欄的 `鏈接` 按鈕（或者右擊，在彈出菜單中選擇 `編輯鏈接`），同樣會彈出 `插入鏈接` 對話框，此時可以在對話框裏選擇新的目標或者輸入新的 URL，然後點擊 `更新` 按鈕即會更新已有的鏈接代碼。

## 鏈接代碼的語法

鏈接代碼的語法如下

    [link title](target "optional text")

其中第一部分 `link title` 是鏈接的顯示文本，即在渲染時，一個鏈接只有這部分文本會顯示出來，後面的只作為鏈接的屬性而不會顯示。

第三部分是鏈接的提示文本，即當鼠標懸停在該鏈接時所顯示的提示文本，該文本需要用雙引號包圍起來，一般鏈接的這部分是不需要的。

### 鏈接目標

鏈接代碼的第二部分是鏈接的目標，根據目標類型的不同，該部分也有不同的語法：

鏈接到同一篇文檔的其他章節

    [link title](#章節標題)

鏈接到另一篇文檔

    [link title](目標文檔的文件名)

鏈接到位於子目錄的文檔

    [link title](子目錄名稱/目標文檔的文件名)

鏈接到另一篇文檔的當中的某一個章節

    [link title](目標文檔的文件名#章節標題)

鏈接到位於其他庫的文檔

    [link title](目標庫名稱:目標文件名)

鏈接到位於其他庫的子目錄的文檔的某一個章節

    [link title](目標庫名稱:子目錄名稱/目標文檔的文件名#章節標題)

### 鏈接目標的文本 Slugify 轉換規則

跟 URL 的規則一樣，鏈接目標不允許空格以及某些特殊符號，而一般的文檔文件名和標題可能會含有大小寫、空格，有時還有標點符號，所以在書寫鏈接目標時，需要先將目標文本進行 Slugify 轉換，下面是轉換的規則：

1. 去除文檔的文件擴展名，比如 “hello.md” 應轉成 “hello”；
2. 所有拉丁字母轉成相應的英文字母，比如 “Á” 轉成 “A”；
3. 去掉所有標點符號，其中 `_` 號、`-` 號和空格符除外， 比如 “Hello! World.” 轉成 “Hello World”；
4. 所有`_` 號和空格轉成 `-` 號，比如 “Hello World” 轉成 “Hello-World”；
5. 所有大寫轉成小寫，比如 “Hello-World” 轉成 “hello-world”；
6. 多個連續的 `-` 號會合併成為一個，比如 “hello---world” 轉成 “hello-world”。

舉一個完整的列子，比如 "New! Introducing Create React Native App.md" 應該轉成 "new-introducing-create-react-native-app"。

`插入鏈接` 所生成的代碼已經經過 Slugify 轉換，所以如果覺得手動錄入鏈接目標太過於繁瑣，則可以考慮使用 `插入鏈接` 來生成鏈接。

## 鏈接到命令

Yu Writer 支持鏈接目標為命令類型的鏈接，這裏所説的命令是指實現指定 Yu Writer 功能的操作，這種鏈接的格式是：

    [link title]($command:command-id?params)

其中的 `command-id` 為命令 id，你可以呼出 `命令面板`，然後按下 `Alt` 鍵，則可以看到各種命令的 id。

有些命令是支持參數的，比如 `reveal` 命令，後面使用問號加上參數，其中參數支持 Yu Writer 的變量（有關 Yu Writer 變量，請參閲 [C01 配置應用程序](c01-配置應用程序)）

下面是幾個實際的命令鏈接的例子，你可以按下 `Command` 鍵（在 Windows/Linux 裏對應的是 `Ctrl` 鍵）然後點擊他們：

* [顯示文檔統計信息]($command:statistics)
* [顯示或者隱藏大綱視圖]($command:toggle-outline)
* [在文件管理器中顯示下載文件夾]($command:reveal?${env.path.downloads})

## 引用風格的鏈接

鏈接目標除了可以直接寫到鏈接代碼裏，還可以抽取出來單獨寫到文檔的末尾處，這種鏈接稱位引用風格的鏈接，它的語法是：

    [link title][link reference id]

然後在文檔的末尾處寫上：

    [link reference id]: target

下面是引用風格鏈接的實例：

* [打開 Yu Writer 官方網站][yu-writer-site]
* [顯示文檔統計信息][statistics]

注，在編輯器裏點擊上面的鏈接會讓光標跳轉到引用定義行，而不是打開鏈接目標。

## 自動鏈接

當文檔中存在符合 URL 格式的字符串時，該字符串會被自動渲染為鏈接。比如 https://www.github.com

[yu-writer-site]: https://ivarptr.github.io/yu-writer.site/
[statistics]: $command:statistics