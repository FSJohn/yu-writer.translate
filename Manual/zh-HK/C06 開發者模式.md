# C06 開發者模式

如果想深入瞭解 Yu Writer 的工作原理，或者想自定義主題、想增加或者修改文檔模板、文檔樣式、幻燈片樣式等，則可讓 Yu Writer 運行在開發者模式之中。

> 注：打開開發者模式要求先註冊 Yu Writer，因為程序進入開發者模式之後即可修改運行時的程序，也就意味着可啟動所有功能，包括未註冊版被鎖定的那些功能。

## 打開開發者模式

編輯應用程序的配置文件 `app.json`（[點擊這裏]($command:reveal?${runtime.paths.config}/app.json) 可在文件管理器中顯示配置文件），在開頭處增加如下一行：

```json
{
  developerMode: true,
  ...
}
```

重啟應用程序，應該會發現菜單中多了一項 `開發者`，點擊 `開發者` > `開發者工具` 即可打開開發者工具，在這裏你可以查看程序的所有結構以及資源。

## 解壓 Yu Writer 的資源

在應用程序目錄裏有一個 `resources` 文件夾（macOS 版則位於 Yu Writer/Contents/Resources），裏面有一個名為 `app.asar` 的壓縮包文件，解壓它可以得到 Yu Writer 的源碼和資源。

解壓的方法請 [參閲這個文檔](https://github.com/electron/asar)，解壓後會得到一個名為 `app` 的文件夾，把 `app.asar` 文件移動到其他地方或者刪除它，則程序會從 `app` 文件夾加載。

需要注意的是腳本源碼、主窗口的 HTML 代碼、主窗口的樣式表均有數字簽名驗證，修改它們會導致程序啟動不了。但諸如主題、文檔模板、文檔樣式、幻燈片樣式等則可任意修改。

## 嘗試創建自己的一個文檔模板

進入 `app` 文件夾，再進入 `src` 文件夾，應該會看到一個名為 `documentstyle` 的文件夾，這個文件夾裏面的每個子文件夾就對應一個文檔樣式，你可以複製其中的一個，然後改名，重啟 Yu Writer 應該會發現多出你剛剛創建的樣式。編輯樣式的 view.css，然後使用 `開發者` 菜單重新加載程序就可以看到修改後的樣式的效果。